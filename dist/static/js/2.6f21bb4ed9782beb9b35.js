webpackJsonp([2],{T9J1:function(t,e){},YOyO:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s("4YfN"),a=s.n(r),o=s("2X+S"),i=s("rVsN"),n=s.n(i),c=s("aA9S"),l=s.n(c),h=s("T452"),u=s("2sCs"),f=s.n(u);var v=s("6Xyt"),m=s("9rMa"),d=s("vhoT"),w=s("XEAW"),y=s("qwAB"),p=s("F4+m"),_=s("tRvw"),x={data:function(){return{hotkey:[],confirmText:"是否清空所有记录？",confirmBtnText:"清空",isShow:!1,noResultText:"暂无搜索结果"}},mixins:[p.b,p.c],components:{"m-search-box":o.a,"m-suggest":v.a,"m-search-list":d.a,"m-confirm":w.a,"m-scroll":y.a,"m-no-result":_.a},created:function(){this._getHotSearchList()},computed:{shortcut:function(){return this.hotkey.concat(this.searchHistory)}},methods:a()({},Object(m.b)(["clearSearchHistory"]),{handlerPlaylist:function(t){if(this.shortcut.length>0){var e=t.length>0?"60px":"";this.$refs.shortcutWrapper.style.bottom=e,this.$refs.searchResult.style.bottom=e,this.$refs.shortcut.refresh(),this.$refs.suggestContent.refresh()}},deleteAll:function(){this.clearSearchHistory()},showConfirm:function(){this.$refs.confirm.show()},_getHotSearchList:function(){var t,e=this;(t=l()({},h.b,{g_tk:5381,format:"json",platform:"h5",needNewCode:1,_:1515997065271}),f.a.get("/api/getHotSearchList",{params:t}).then(function(t){return n.a.resolve(t.data)})).then(function(t){t.code===h.a&&(e.hotkey=t.data.hotkey.slice(0,10))})},searchNoResult:function(t){this.isShow=t}}),watch:{query:function(t){var e=this;t||setTimeout(function(){e.$refs.shortcut.refresh()},20)}}},C={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"search"},[s("div",{staticClass:"search-box-wrapper"},[s("m-search-box",{ref:"searchBox",on:{query:t.changeQuery}})],1),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.query,expression:"!query"}],ref:"shortcutWrapper",staticClass:"shortcut-wrapper"},[s("m-scroll",{ref:"shortcut",staticClass:"shortcut",attrs:{data:t.shortcut,refreshDelay:t.refreshDelay}},[s("div",[s("div",{staticClass:"hot-key"},[s("h1",{staticClass:"title"},[t._v("热门搜索")]),t._v(" "),s("ul",t._l(t.hotkey,function(e){return s("li",{staticClass:"item",on:{click:function(s){t.addQuery(e.k)}}},[s("span",[t._v(t._s(e.k))])])}))]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.searchHistory.length,expression:"searchHistory.length"}],staticClass:"search-history"},[s("h1",{staticClass:"title"},[s("span",{staticClass:"text"},[t._v("搜索历史")]),t._v(" "),s("span",{staticClass:"clear",on:{click:t.showConfirm}},[s("i",{staticClass:"icon-clear"})])]),t._v(" "),s("m-search-list",{attrs:{searches:t.searchHistory},on:{select:t.addQuery,delete:t.deleteOne}})],1)])])],1),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.query,expression:"query"}],ref:"searchResult",staticClass:"search-result"},[s("m-suggest",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],ref:"suggestContent",attrs:{query:t.query},on:{searchNoResult:t.searchNoResult,select:t.saveSearch,listScroll:t.blurInput}}),t._v(" "),s("m-no-result",{directives:[{name:"show",rawName:"v-show",value:!t.isShow,expression:"!isShow"}],attrs:{title:t.noResultText}})],1),t._v(" "),s("m-confirm",{ref:"confirm",attrs:{text:t.confirmText,confirmBtnText:t.confirmBtnText},on:{confirmClearAll:t.deleteAll}}),t._v(" "),s("router-view")],1)},staticRenderFns:[]};var g=s("X4nt")(x,C,!1,function(t){s("eEQG")},null,null);e.default=g.exports},eEQG:function(t,e){},tRvw:function(t,e,s){"use strict";var r={props:{title:{type:String,default:""}}},a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"no-result"},[s("div",{staticClass:"no-result-icon"}),t._v(" "),s("p",{staticClass:"no-result-text"},[t._v(t._s(t.title))])])},staticRenderFns:[]};var o=s("X4nt")(r,a,!1,function(t){s("T9J1")},"data-v-398e0002",null);e.a=o.exports}});
//# sourceMappingURL=2.6f21bb4ed9782beb9b35.js.map